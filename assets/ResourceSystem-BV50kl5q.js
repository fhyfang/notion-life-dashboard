import{j as e}from"./motion-CtNUML8-.js";import{r as n}from"./vendor-DJ1oPbzn.js";import{g as d}from"./index-B9mZRE9N.js";import{e as I,U,f as A,g as B}from"./icons-CbvDa_dU.js";const H=()=>{const[t,N]=n.useState(0),[m,b]=n.useState(0),[u,y]=n.useState([]),[o,w]=n.useState([]);n.useEffect(()=>{(async()=>{const c=await d("关系网");N(c.length);const i=await d("知识库");b(i.length);const r=await d("财务记录");y(r);const x=await d("互动记录");w(x)})()},[]);const v=t>0?Math.min(5,t):0,D=t>5?Math.min(20,t-5):0,C=t>25?t-25:0,M=new Date().getMonth(),R=new Date().getFullYear();let s=0,a=0;u.forEach(l=>{var x,h,j,f,p;const c=(h=(x=l.properties.日期)==null?void 0:x.date)==null?void 0:h.start,i=((j=l.properties.金额)==null?void 0:j.number)||0,r=(p=(f=l.properties.类型)==null?void 0:f.select)==null?void 0:p.name;if(c){const g=new Date(c);g.getMonth()===M&&g.getFullYear()===R&&(r==="收入"?s+=i:r==="支出"&&(a+=i))}}),s=s||15e3,a=a||12e3;const k=s>0?((s-a)/s*100).toFixed(1):"0",F=12.5,S=Math.floor(m*.3),E=Math.floor(m*.05),Y=o.length;return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(I,{className:"w-5 h-5 text-gray-600"}),e.jsx("h2",{className:"text-lg font-semibold",children:"资源系统"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"font-semibold",children:"关系"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"核心圈层"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:v})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"协作圈层"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:D})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"社交圈层"}),e.jsx("span",{className:"text-lg font-bold text-purple-600",children:C})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"本周互动"}),e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:o.length})]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("h3",{className:"font-semibold",children:"财务"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"月收入"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["¥",(s/1e3).toFixed(1),"k"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"月支出"}),e.jsxs("span",{className:"text-lg font-bold text-red-600",children:["¥",(a/1e3).toFixed(1),"k"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"储蓄率"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[k,"%"]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"投资收益"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["+",F,"%"]})]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(B,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("h3",{className:"font-semibold",children:"知识库"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"总概念数"}),e.jsx("span",{className:"text-lg font-bold text-purple-600",children:m})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"已掌握"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:S})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"本周新增"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:E})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"实践应用"}),e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:Y})]})})]})]})]})]})};export{H as default};
